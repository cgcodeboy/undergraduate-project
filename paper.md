## <div align = "center">摘要</div>

　　近年来空难事故的频繁发生，引起了人们的广泛关注，尤其是2014年3月8日失联的MH370，至今任然牵动着世界各界的心。但是事故已发生，239名遇难者的性命已无法挽回，至关重要的是从事故中得到教训，如何得到飞机的残骸来辅助分析遇难时的情况开始成为研究热点。本文将在此背景下从以下几个角度展开研究，以得到一个完整可靠的飞机空难事故仿真模型。

　　1.  本文从以下角度建立仿真总体模型，以飞机最后一次与地面通讯地点为基点，然后通过计算飞机的故障状态下的坠落轨迹，得到飞机的横向与纵向位移，在坠机地点展开最后一步残骸漂移模拟，得到一定时间以后的飞机残骸位置。

　　2.在飞机坠落阶段，本文将从空气密度角度出发，得到飞机在坠落过程中的飞行阻力，飞行升力，再结合飞机的自身重力，进行力学分析，得到飞机的飞行受力情况，然后计算出飞机的加速度、速度和飞行轨迹，即可得到飞机的最终坠机地点。

　　3.在残骸漂移阶段，本文将采用国际通用的风压差Leeway模型，再结合概率统计模型加以改进，得到本课题所使用的残骸漂移模型。本模型将使用美国航空航天局（NASA）喷气推进实验室公布的风场与流场数据，计算每次更新时的残骸漂移速度，然后在概率模型的支持下计算出一个符合实际的漂移速度。最后根据仿真时间得到残骸的具体位置。

　　4.本文将采用OpenSceneGraph开源三维仿真引擎结合Qt界面开发框架，搭建出一个界面友好的海洋仿真环境，然后结合上述的模型实时展示出飞机在坠落阶段、残骸漂移阶段的具体情况。最后整合飞机在失联时的地点、坠机地点、残骸的最终地点，使用高斯投影反向计算得到残骸的最终经纬度。

**关键词：MH370 飞行仿真 残骸漂移 OpenSceneGraph**

## <div align = "center">ABSTRACT</div>



## <div align = "center">目录<div>
### 第一章	绪论
#### 　1.1	研究背景
#### 　1.2	国内外研究现状
#### 　1.3	研究内容
#### 　1.4	论文结构
### 第二章	相关理论原理
#### 　2.1	飞机坠落过程相关理论
#### 　2.2	残骸漂浮过程相关理论
### 第三章	系统结构设计
#### 　3.1	系统开发环境介绍
#### 　3.2	系统可行性分析
#### 　3.3	系统总体结构设计
#### 　3.4	飞机坠落过程结构设计
#### 　3.5	残骸漂浮过程结构设计
#### 　3.6	外围辅助系统设计
### 第四章	系统实现
#### 　4.1	仿真系统总体结构搭建
#### 　4.2	飞机坠落模块实现
#### 　4.3	残骸漂浮模块实现
#### 　4.4	外围辅助模块实现
#### 　4.5	系统展示
#### 　4.6	系统功能测试
### 第五章	结论与展望
#### 　5.1	结论
#### 　5.2	展望
### 致谢
### 参考文献

## <div align = "center">第一章	绪论<div>
### 1.1	研究背景
　　近年来随着科学技术的不断发展以及机械制造航空航天等行业的不断向前推进，飞机等交通工具开始平民化走向大众的生活。但是飞机作为一种便民的交通工具，以具有高速、高空、高不可抗性为特点。虽然飞机的事故率远低于其他交通工具，但是其一旦升空，在空中是很难保证安全的，事故若是发生，乘客的生命财产安全基本不可能可以得到保障，机毁人毁。

　　2014年3月8日凌晨2点40分，马来西亚航空公司称一架载有227名乘客和12名机组人员的飞机（马航MH370），原定于从吉隆坡出发准备飞往我国首都北京，但是中途与管制中心失去联系。北京时间2014年3月24日晚，马来西亚总理宣布了MH370的消息称其在南印度洋坠毁，机上无一人生还。

　　上面的消息无疑是痛心的，所以基于避免此类事故再次发生的考虑，人们自然而然的会想到是要找到坠毁的飞机，分析飞机在坠毁时的情况，来找到飞行事故解决方案和飞机的改进办法，期望使愈来愈频繁使用的飞机变得更加安全，来保证乘客乘坐飞机的短短几个小时可以得到足够的保障。

　　目前主要的事故调查手段是找到黑匣子，黑匣子作为一种专用于飞机的飞行电子记录仪，它可以把飞机在失事前30分钟内飞行员之间的语音对话和两个小时以内的飞行参数记录下来。这些重要的数据可用于飞机失事后的事故分析之用。

　　但是黑匣子可以记录数据的时间是有限的，往往只有短短的30到40天时间，由于类似于MH370这样的空难事件多发于海上，黑匣子的掉落地点充满了各种干扰因素，而且深不见底的海水给黑匣子的寻找带来了极大的困难。所以黑匣子这种空难分析手段的具有一定的局限性。

　　考虑到上面的情况，飞行事故的发生原因只能求助于找到飞机的残骸，找到飞机的残骸就可以分析飞机的空难机械因素，这种分析手段在环球航空800号班机空难事故中得到应用。由于飞机的残骸往往具有漂浮性，所以找飞机的残骸就类似于分析海上漂浮物的漂流轨迹。

　　综合考虑以上的背景，本文将从飞机空难事故的残骸寻找手段出发，分析研究出一种实用的残骸搜寻模型。并且使用OSG三维仿真引擎和Qt界面框架结合搭建一个三维动态的海洋仿真环境，来实现对得到的搜寻模型的仿真验证。

### 1.2	国内外研究现状
#### 　1.2.1	国内研究现状
　　以往的SAR（搜索和救援）预测算法主要有两种，一种是GDOC算法，这是一种基于传统公式的算法，形成的是一种以沿着风向两端的最大风压角得到的直线中点为正中心，一定的半径形成的扇形漂流区域，这种模型得到的区域并没有考虑不确定性因素，并且错误的只考虑了风压作用，洋流压力等其他因素未纳入考虑。并且这种算法还有一点不足，海洋上的风与流是时刻变化的，但是这种算法却只考虑平均状况，这显然是不充分的，所以漂浮物位于计算出的区域中的概率不能得到保证。这是一种最原始的的模型，另一种模型是CASP模型，这种模型克服了前一种模型未考虑不确定因素的缺点。使用了蒙特卡洛（Monte-Carlo）方法，但是这种算法仍旧没有考虑洋流的作用，只是简单的考虑了风压作用。

　　一种基于Monte-Carlo统计实验方法的海上漂流模型综合考虑了海流和风场等因素，并且克服了GDOC的只考虑平均情况的不足，其首要条件就是具备海洋上的实时数据，只有使用完善且准确的海洋数据去实时的更新模型状态，才能够保证模型的正确性。[1]

　　陈达森等人采用等步差分网格分割法和追赶法求解ADI方法得到的离散方程组，模拟得到了湛江某海域的三种流场。[2]

　　肖文军等人在上海沿海采用WRF和FVCOM以及基于Monte-Carlo理论的Leeway模型建立起长江口附近海域漂浮物预测模型系统。[3]

　　另外一种基于FSA理论和贝叶斯网络的技术提出被应用于长江口附近航行安全性的提升。[4]

　　但是以上的研究都是局限于近海模型建立，对于在远海海域飞机残骸的轨迹预测模型却很少涉及。

#### 　1.2.2	国外研究现状
　　国外对于海上漂浮物的研究比国内进行的更加的早且全面，最早且广泛使用的Leeway模型就是由Hodgins 和 Mak提出[5]，Allen 和Plourde改进，利用这个模型可以展开高精度的模拟。

　　但是Breivik和Allen在一份研究中表明高精度的模型并不能大幅度的提高轨迹预测的精准度[6]。鉴于上述原因，Allen提出了Jibe的概念——漂浮物可能由于其自身的不对称轮廓改变其方向[7]。

　　另外海洋环境对动态漂移的影响也是不确定的。一般情况下，风压、洋流、波浪对不同的物体的受力是不同的，由此基于观测和随机理论的方法得以被提出并广泛用于预测Leeway运动。例如， Brushett在一份研究中表明，对于双桨小船和乘坐一个人的小船，使用Leeway模型计算出的速度大约是风速的2.4-4.24% [8]。此外，Breivik还发现了10m近地面风速和Leeway模型下的风速之间具有很强的线性关系[9]。Gayer指出漂浮物的Leeway模型速度大致与其自身的浸润比（物体在海水之上的比例与物体在海水之下的比例之比）称反比[10]，这一结论具有及其重要意义。另外一项有广泛应用价值的报告中总结 了63类不同物体的Leeway数据[11]。

　　除了上述两种因素带来的不确定性，风场、流场以及波浪数据会导致计算的不准确。考虑到这种情况，很多先进的方法已经被采用来提高这些数据在预测时的可信度。例如高精度雷达就可以用于收集更加精准的洋流数据[12]。Özgökmen等人还考虑了流场的时空相关性[13]。在这些方法的推动下，高精度的流场和风场等数据的获得就有了可能性。

　　在有效利用这些数据方面，相关的研究大都采用基于概率统计方法的Leeway模型，这种模型由于可以很好的描述物体的漂移轨迹的不确定性而被广泛采用。Davidson在他的一片文献中给出了一份概述[14]。Özgökmen在使用Lagrangian方法做路径预测时，考虑到风场和流场数据由于掺杂着噪声数据（不可用数据），使用了卡尔曼滤波的方法进行了数据去噪[15]。Mínguez所展示的Monte-Carlo路径模拟算法中，上诉的不确定性因素都通过概率分布的方式所呈现出来，其中的参数都是使用漂浮物的测试数据[16]。

　　基于上诉这些模型，本文使用就是一种基于Leeway模型的概率模型，这种模型首先由Jinfen Zhang等人提出，本文在该模型上对其空间相关性计算算法做了改进。

### 1.3	研究内容
　　本文所要研究实现的内容是一个海洋环境下的飞机坠落和轨迹预测的模型，该模型可以用于海洋环境下的失事飞机残骸搜寻。另外本文将基于该模型使用OpenSceneGraph和Qt界面框架搭建海上实时仿真环境，实现出一款预测模拟系统，该系统将使用NASA喷气推进实验室提供的风场与流场数据进行预测，得到残骸的漂移路径以及最终位置。因此研究内容包括以下几个方面：

　　给出本文使用的飞机坠落模型，解释其中所使用的计算算法，以及所使用的算法涉及到的相关理论原理。

　　对最基本的Leeway模型进行研究，总结该模型在进行SAR时的方法。分析比较前人使用的几种基于Leeway模型的改进方法。提出本文所使用的模型。解释模型中所使用的算法涉及到的相关的理论原理。

　　对本文所需要实现的系统进行可行性分析及系统分析，介绍系统所使用的开发环境，然后对系统进行模块划分。接下来将对讨论系统的具体实现过程，并展示系统完成后的情况，最后将进行系统测试，使用具体的数据去测试系统的可靠性，并验证提出的模型的正确性。
### 1.4	论文结构
　　本文将对章节进行如下划分：

　　第一章主要阐述研究背景，介绍总结国内外在本领域的研究现状，最后说明本文的研究内容。

　　第二章将会介绍本文的研究所划分的两个基本模块所涉及到的基本原理和理论。对坠落模块将解释坠落轨迹的计算算法，并重点解释其中飞机受力所涉及到的空气密度与高度相关性的基本理论知识。对残骸轨迹预测模块，将会重点解释Leeway模型的基本原理，然后简要介绍前人在Leeway模型上进行改进后形成的预测方法并对比分析其中的优越性和不足之处。接下来将引入本文使用的基本模型的来源，并提出改进后的算法。

　　第三章将进入到系统涉及，首先会对本系统所使用的基本开发环境（三维引擎和界面框架）进行对比性的介绍，在此基础上进行系统的可行性分析，分析之余将进行系统的结构设计和模块划分，并着力解释各模块内部的设计。

　　第四章将讨论系统的实现细节情况，首先介绍海洋环境的内核搭建即如何将OpenSceneGraph（以下简称OSG）引擎嵌入到Qt界面框架中。然后阐述各个模块的具体实现，接下来将会展示完成后的系统，最后进行系统的可靠性和正确性测试。


## <div align = "center">第二章 相关理论原理<div>
### 2.1	飞机坠落过程相关理论
　　飞机的坠落过程是一个极其复杂的过程，涉及到很多的领域，例如控制工程，飞行器涉及与仿真等等。但是考虑到本文的目标主要针对飞机失事后残骸的搜寻，并且飞机残骸在海洋表面漂浮的位移要显著的大于飞机坠落事产生的位移。所以在本论文中将简化飞机坠落时候的过程。尽量使这个过程更加的利于系统的设计和实现。所以本节将从以下几方面进行论述。
#### 2.1.1 飞机坠落过程建模
　　飞机在坠落的时候，本文中在建模时将会默认将飞机按以下情形对待：
- 将其当做一个简单质点，不会因外界情况发生改变而产生形变，继而影响到力的产生条件。
- 不考虑飞机的俯仰角，即飞机在飞行的过程之中，一直保持着速度方向与海平面平行。
- 不考虑科氏力，科氏力是一种源于物体的惯性而产生的力，与离心力一样都是虚拟的。在旋转体系中，做直线运动的一个质点由于惯性想继续保持原有的运动方向。但是运动体系本身是旋转的，所以一段时间后质点的位置在发生变化后，假如按照旋转体系的视角，质点的位置相对于沿直线运动发生了一定的偏移。本文中将不会考虑这种情况。

　　在考虑到上述的假设以后，首先对飞机所受的力进行讲解。飞机受力比较复杂，但是在简化模型下，可以大致分为下述几类：<br>
　　1.升力，升力主要是由飞机的机翼产生，产生原理可以参考伯努利原理。伯努利原理清晰的解释了飞机在天空飞行时克服掉重力的原因。首先当飞机在引擎的推动下加速前进时，飞机的两翼由于其自身的构造在机翼的上下会产生速度差。在机翼的上侧，由于隆起所以会导致空气在流动时从上侧流过的气流需要经过的路程会大于工下册流过的气流需要经过的路程。在时间相等的情况下，路程越长，速度越快，从而导致气压越低，所以机翼下侧将会产生大于上侧的气压，纵而使得机翼下侧受力大于上侧受力，升力也就从此产生。但是在后人的研究中发现升力的产生并不是可以简单的用伯努利原理可以解释清楚的，但是本文重点并不是探讨这一点。所以使用伯努利原理简要的解释飞机升力是可行的。飞机升力的计算公式如下所示：
>F<sub>t</sub> = 0.5 *  C<sub>l</sub> * &rho; * v<sup>2</sup> * S<sub>c</sub> </br>
>其中 F<sub>t</sub> 表示升力，C<sub>l</sub>表示升力系数，该系数一般与阻力系数成比例，&rho;表示空气密度，v表示气流相对速度，S<sub>c</sub>表示参考面积，一般取机翼面积为参考面积。但是&rho;是不一定的，它将会随着海拔的变化而变化，下一节将会对空气密度做更深入的阐释。

　　2.重力，重力是比较容易理解的，由于地球的引力，所以任何处于地面上且具有重量的物体都会产生一个垂直向下的重力，在重力加速度一定的情况下，重量越大，飞机所受的重力也就越大。这份重力是使飞机坠落的主要来源。重力的计算公式如下：
>F<sub>w</sub> = m * g </br>
>其中m表示物体的重量，g是重力加速度，虽然重力加速度也会随着海拔的变化而变化，但是由于这个加速度是由万有引力产生的，而飞机飞行的高度并没有突破大气层，海拔的变化值还是相对较小，所以重力加速度的变化不会有很大的变化，这里将会假设g是一个常量。

　　3.阻力，飞机受到的阻力复杂程度是最大的。飞机在飞行过程中，其速度是十分大的，因此也会由于各种原因受到非常大的阻力，根据这些原因，大致可以将飞机受到的阻力分为摩擦阻力，压差阻力，诱导阻力，干扰阻力和激波阻力，由于篇幅原因，本文将对这些阻力做简要的介绍，具体细节不做深入讨论。</br>
　　(1)摩擦阻力。摩擦阻力是在两个相对滑动的物体间产生的，当两个物体相对滑动时，就会产生一对相反的力，阻碍两个物体的相对运动。所以当飞机在空中飞行的时候，由于空气的粘性，气流通过飞机表面，空气微团与飞机表面发生了摩擦滞碍了气流的运动，因此也就产生了摩擦力。</br>
　　(2)压差阻力。压差阻力产生的原因在于运动物体的前后存在压强差，这种由于压强差导致的阻力叫做压差阻力，其受到物体的迎风面积、形状和在气流中的位置影响。实验表明，最大迎风面积越大，压差阻力越大。</br>
　　(3)诱导阻力。以上两种阻力在对飞行器的研究中合称为翼型阻力，飞机的机翼除了这两者之外，还存在一种诱导阻力，这种阻力是伴随着飞机的升力的产生而产生的。经由风洞实验发现，机翼在产生升力的同时，还产生了一个反作用力，这个作用力作用于气流上，导致气流从机翼的下侧绕过翼尖向机翼的上侧运动，从而产生了一个旋涡。在飞机向前飞行的同时，旋涡也随着向后移动，由此就产生了下洗速。旋涡的能量很大，将会带动周围的机翼下面的气流随着一起运动，因此就导致了来流方向朝向了斜下方，从而影响到升力的方向。原本升力应该垂直机翼向上，此时随着来流方向的改变，升力方向开始转变朝向了斜后方。如果将此时的升力分解，沿着飞机飞行方向的力就是诱导阻力，垂直向上的力才是真正的升力。</br>
　　(4)干扰阻力。实验表明，飞机的各个部件在飞机飞行的过程中，所受到的阻力的总和并不等于飞机所受到的总阻力，而往往小于总阻力。其原因在于飞机的各个部件在飞行时，周围的气流相互干扰，因此产生了一种额外的阻力，这个额外的阻力称为干扰阻力。</br>
　　(5)激波阻力，激波阻力当飞机由亚音速变化到超音速时产生的，飞机飞行的过程中，飞机前方的空气会压缩形成一种压力波，这种波在传播速度小于飞机时，后续压力和现有压力叠加致使空气遭到强烈干扰，阻力系数也会比0.8马赫时大四倍，激波也由此产生。但是民航飞机的速度一般低于音速，所以这种阻力不考虑。</br>
　　综合上述的所有压力，下面给出压力的计算公式：
>F<sub>f</sub> = 0.5 * C<sub>d</sub> * &rho; * v<sup>2</sup> * S<sub>c</sub> </br>
>其中F<sub>f</sub>表示飞机所受的总阻力，C<sub>d</sub>表示阻力系数，&rho;表示空气密度，v表示气流相对速度，S<sub>c</sub>表示参考面积，这里需要注意的是在计算阻力时仍然取机翼面积，而不是飞机的迎风面积。

在对飞机的各种受力情况做完大致介绍以后，下面对飞机作受力分析：

# <div align = "center"> ![airplane](https://github.com/cgcodeboy/undergraduate-project/blob/master/resource/picture/airplane.png)</div>

### 2.2	残骸漂浮过程相关理论
